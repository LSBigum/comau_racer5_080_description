<?xml version="1.0"?>
<robot xmlns:xacro="http://ros.org/wiki/xacro" name="comau">

    <xacro:include filename="materials.xacro"/>

    <xacro:property name="r2d" value="${pi/180}"/>
    <xacro:property name="meshes_path" value="package://comau_racer5_080_description/meshes"/>
    <link name="base_link">
        <visual>
            <origin xyz="0 0 0" rpy="0 0 0"/>
            <geometry>
                <mesh filename="${meshes_path}/Base.stl" scale="0.001 0.001 0.001"/>
            </geometry>
            <material name="grey"/>
        </visual>
    </link>

    <link name="q1_link">
        <visual>
            <origin xyz="0 0 0.19" rpy="0 0 0"/>
            <geometry>
                <mesh filename="${meshes_path}/Q1.stl" scale="0.001 0.001 0.001"/>
            </geometry>
            <material name="grey"/>
        </visual>
    </link>
    
    <joint name="q1_joint" type="revolute">
        <axis xyz="0 0 1"/>
       <parent link="base_link"/>
       <child link="q1_link"/>
       <limit lower="-${r2d*170}" upper="${r2d*170}" effort="0.0" velocity="${r2d*400}"/>
    </joint>
    
    <link name="q2_link">
        <visual>
            <origin xyz="0 0 0" rpy="0 0 0"/>
            <geometry>
                <mesh filename="${meshes_path}/Q2.stl" scale="0.001 0.001 0.001"/>
            </geometry>
            <material name="grey"/>
        </visual>
    </link>
    
    <joint name="q2_joint" type="revolute">
       <axis xyz="0 1 0"/>
       <origin xyz="0.050 0.0 0.365"/>
       <parent link="q1_link"/>
       <child link="q2_link"/>
       <limit lower="-${r2d*85}" upper="${r2d*135}" effort="0.0" velocity="${r2d*360}"/>
    </joint>

    <link name="q3_link">
        <visual>
            <origin xyz="0 0 0" rpy="0 0 0"/>
            <geometry>
                <mesh filename="${meshes_path}/Q3.stl" scale="0.001 0.001 0.001"/>
            </geometry>
            <material name="grey"/>
        </visual>
    </link>

    <joint name="q3_joint" type="revolute">
       <axis xyz="0 1 0"/>
       <origin xyz="0 0 0.370"/>
       <parent link="q2_link"/>
       <child link="q3_link"/>
       <limit lower="-${r2d*155}" upper="${r2d*90}" effort="0.0" velocity="${r2d*400}"/>
    </joint>
    

    <link name="q4_link">
        <visual>
            <origin xyz="0 0 0" rpy="0 0 0"/>
            <geometry>
                <mesh filename="${meshes_path}/Q4.stl" scale="0.001 0.001 0.001"/>
            </geometry>
            <material name="grey"/>
        </visual>
    </link>
    
    <joint name="q4_joint" type="revolute">
       <axis xyz="1 0 0"/>
       <origin xyz="0 0 0.050"/>
       <parent link="q3_link"/>
       <child link="q4_link"/>
       <limit lower="-${r2d*200}" upper="${r2d*200}" effort="0.0" velocity="${r2d*500}"/>
    </joint>

    <link name="q5_link">
        <visual>
            <origin xyz="0 0 0" rpy="0 0 0"/>
            <geometry>
                <mesh filename="${meshes_path}/Q5.stl" scale="0.001 0.001 0.001"/>
            </geometry>
            <material name="grey"/>
        </visual>
    </link>

    <joint name="q5_joint" type="revolute">
       <axis xyz="0 1 0"/>
       <origin xyz="0.38594 0 0"/>
       <parent link="q4_link"/>
       <child link="q5_link"/>
       <limit lower="-${r2d*125}" upper="${r2d*125}" effort="0.0" velocity="${r2d*500}"/>
    </joint>

    <link name="q6_link">
        <visual>
            <origin xyz="0 0 0" rpy="0 0 0"/>
            <geometry>
                <mesh filename="${meshes_path}/Q6.stl" scale="0.001 0.001 0.001"/>
            </geometry>
            <material name="grey"/>
        </visual>
    </link>

    <joint name="q6_joint" type="revolute">
       <axis xyz="1 0 0"/>
       <origin xyz="0.080 0 0"/>
       <parent link="q5_link"/>
       <child link="q6_link"/>
       <limit lower="-${r2d*2700}" upper="${r2d*2700}" effort="0.0" velocity="${r2d*800}"/>
    </joint>

</robot>
